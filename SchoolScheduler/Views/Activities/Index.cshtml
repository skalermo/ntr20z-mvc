@model ActivityOptionList
@{
    ViewBag.Title = "Activities panel";
    ViewData["Title"] = "Activities panel";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    string[] headerSlots = { "time", "Mo", "Tu", "We", "Th", "Fr" };
    string[] activitiesTimes = { "8:00-8:45", "8:55-9:40", "9:50-11:35",
        "11:55-12:40", "12:50-13:55", "13:45-14:30",
        "14:40-15:25", "15:35-16:20", "16:30-17:15" };
    const int rows = 9;
    const int cols = 5;
}

<h2>Activities panel</h2>

<div class="row ml-1">
    <div class="col-md-1.5 form-group">
        @using (Html.BeginForm("SelectOption", "Activities", FormMethod.Post))
        {
            @Html.DropDownListFor(model => model.selectedOption,
        new SelectList(Enum.GetValues(typeof(ActivityOption))),
        new { onchange="this.form.submit();" })
        }

        </div>

        <div class="col-md-1 form-group">
            @using (Html.BeginForm("SelectOptionValue", "Activities", FormMethod.Post))
        {
            @* <label>@Model.selected</label> *@
            @Html.DropDownListFor(model => model.selectedValue,
        new SelectList(Model.values),
        new { onchange="this.form.submit();" })
            <input type="hidden" name="selectedOption" value=@Model.selectedOption />
        }
    </div>
</div>


<div class="wrapper">
    @* Mo, Tu, We, Th, Fr, Sa, Su *@
    @foreach (var slot in headerSlots)
    {
        <div class="slot header">@slot</div>
    }

    @{
        int i = 0;
    }
    @foreach (var item in ViewBag.activities)
    {
        if (i % cols == 0)
        {
            @* 8:00-8:45, 8:55-8:9:40, 9:50-11:35, 11:55-12:40, 12:50-13:55,
                13:45-14:30, 14:40-15:25, 15:35-16:20, 16:30-17:15 *@
            <div class="slot index">@(activitiesTimes[i/cols])</div>
        }

        <a href="#" class="fill-div slot" data-toggle="modal" data-target="#exampleModal" data-room="@(item.Room)"
            data-group="@(item.Group)" data-class="@(item.Class)" data-teacher="@(item.Teacher)">
            @if (item.Slot != -1)
            {
                @item.Slot
            }
            </a>
        i++;
    }

    @* @for (int row = 0; row < 10 - 1; row++) *@
    @* { *@
    @* 8:00-8:45, 8:55-8:9:40, 9:50-11:35, 11:55-12:40, 12:50-13:55,
        13:45-14:30, 14:40-15:25, 15:35-16:20, 16:30-17:15 *@
    @* <div class="slot index">@(activitiesTimes[row])</div> *@
    @* @for (int col = 0; col < 6 - 1; col++) *@
    @* { *@
    @* <a href="#" class="fill-div slot"> *@
    @* Slot @(row*5 + col) *@

    @* </a> *@
    @* } *@
    @* } *@

</div>

<!-- Modal -->
<div class="modal" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form>
                <div class="modal-body">
                    <div class="form-group row">
                        <label for="room" class="col-sm-2 col-form-label">Room</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="room" placeholder="Room">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="group" class="col-sm-2 col-form-label">Group</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="group" placeholder="Group">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="class" class="col-sm-2 col-form-label">Class</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="class" placeholder="Class">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="teacher" class="col-sm-2 col-form-label">Teacher</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="teacher" placeholder="Teacher">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary">Delete</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </form>
        </div>
    </div>
</div>